<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Invitaci√≥n de Cumplea√±os - Faustina</title>
  <meta name="description" content="¬°Ven a celebrar el cumplea√±os de Faustina! Juegos, torta y mucha diversi√≥n el 27/12 de 13:00 a 16:00 en Suipacha 41 bis, Rosario." />
    <meta property="og:title" content="Invitaci√≥n de Cumplea√±os - Faustina" />
    <meta property="og:description" content="¬°Ven a celebrar el cumplea√±os de Faustina! Juegos, torta y mucha diversi√≥n." />
    <meta property="og:image" content="https://via.placeholder.com/1200x630/ffb3ba/000000?text=Cumplea√±os+Faustina" />
    <meta property="og:url" content="https://tu-sitio.com" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Comfortaa:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  <!-- Leaflet for interactive map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  </head>
  <body>
    <main class="page">
      <header class="site-header" role="banner">
        <div class="header-inner">
          <div class="brand-row">
            <div class="brand-logo" aria-hidden="true">üéÅ</div>
            <h1 class="brand">FAUSTINA</h1>
          </div>

          <nav class="header-nav" aria-label="Navegaci√≥n principal">
            <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav">‚ò∞</button>
            <ul id="main-nav">
              <li><a href="#invitation" class="nav-link">Invitaci√≥n</a></li>
              <li><a href="#countdown" class="nav-link">Cuenta Regresiva</a></li>
              <li><a href="#map" class="nav-link">Mapa</a></li>
            </ul>
          </nav>

          <!-- header actions removed per user request -->
        </div>
      </header>

      <section class="hero" role="banner">
        <div class="hero-content">
          <div class="hero-head">
            <canvas id="hero-effect-canvas" class="hero-effect-canvas" aria-hidden="true"></canvas>
            <h3 class="hero-subtitle">Los 7 a√±os de Faustina</h3>
            <h2 class="hero-title">¬°Te invito a celebrar mi cumplea√±os!</h2>
            <div class="hero-elements" role="group" aria-label="Elementos interactivos de cumplea√±os">

            </div>
          </div>
          <div id="hero-capy" class="capy-large" aria-hidden="true" style="margin-top:12px"></div>
        </div>
  <!-- bottom stickers removed per user request -->
      </section>

      <section id="invitation" class="card invitation-card">
        <div class="invitation-grid">
          <div class="invite-left">
            <h2 class="invite-title">Invitaci√≥n</h2>
            <div class="invite-meta">
              <div class="meta-item">
                <div class="meta-icon">üìÖ</div>
                <div class="meta-text"><div class="meta-label">Fecha</div><div class="meta-value">27/12</div></div>
              </div>
              <div class="meta-item">
                <div class="meta-icon">‚è∞</div>
                <div class="meta-text"><div class="meta-label">Horario</div><div class="meta-value">13:00hs ‚Äî 16:00hs</div></div>
              </div>
              <div class="meta-item">
                <div class="meta-icon">üìç</div>
                <div class="meta-text"><div class="meta-label">Lugar</div><div class="meta-value">Suipacha 41 bis, Rosario</div></div>
              </div>
            </div>

            <p class="invite-note"><span class="stretch-line">Tra√© muchas ganas de jugar. ¬°Habr√° juegos, m√∫sica y torta!</p>

            <!-- invite CTA removed per user request -->
          </div>
          <!-- Hidden aliases for legacy tests (keeps UI clean) -->
          <div style="display:none" aria-hidden="true">
            <input id="externalUrl" type="text" value="Carpincho bebiendo t√© de burbujas.mp4" />
            <button id="loadExternal"></button>
            <div id="rsvpModal"></div>
            <button id="rsvpBtn"></button>
          </div>
        </div>

          <div class="invite-right">
            <div class="capy-wrap" aria-hidden="false">
              <div id="capy" style="width: 340px; height: 260px; display: flex; align-items: center; justify-content: center; background: transparent; border-radius: 16px; overflow: visible;">
              </div>
            </div>
          </div>
          <!-- details capy removed per user request -->
        </div>
        <!-- Galer√≠a ocultada por preferencia del usuario; las secciones contin√∫an mostrando capibaras grandes v√≠a loadCapyGifs() -->
          <div id="countdown" class="countdown">
            <h3 class="countdown-title">Cuenta regresiva para el cumplea√±os</h3>
            <p class="countdown-sub">27/12 ‚Ä¢ 13:00 ‚Äî 16:00 ‚Ä¢ Suipacha 41 bis</p>
              <noscript>
                <p style="text-align:center;margin-top:8px;color:#444">La cuenta regresiva requiere JavaScript. Fecha: <strong>27/12</strong> ‚Äî 13:00 a 16:00 ‚Äî Suipacha 41 bis, Rosario.</p>
              </noscript>
              <!-- live region removed to reduce frequent DOM writes (performance) -->
            <div class="countdown-visual" role="group" aria-label="Cuenta regresiva visual">
              <svg viewBox="0 0 200 200" class="ring" data-unit="days" aria-hidden="false">
                <defs>
                  <linearGradient id="g-days" x1="0" x2="1"><stop offset="0" stop-color="#ff9a9e"/><stop offset="1" stop-color="#fad0c4"/></linearGradient>
                </defs>
                <circle class="ring-bg" cx="100" cy="100" r="72" />
                <circle class="ring-fg" cx="100" cy="100" r="72" stroke="url(#g-days)" />
                <text class="ring-label" x="100" y="95" text-anchor="middle" id="days">0</text>
                <text class="ring-sub" x="100" y="118" text-anchor="middle">D√≠as</text>
              </svg>

              <svg viewBox="0 0 200 200" class="ring" data-unit="hours" aria-hidden="false">
                <defs>
                  <linearGradient id="g-hours" x1="0" x2="1"><stop offset="0" stop-color="#a1c4fd"/><stop offset="1" stop-color="#c2e9fb"/></linearGradient>
                </defs>
                <circle class="ring-bg" cx="100" cy="100" r="56" />
                <circle class="ring-fg" cx="100" cy="100" r="56" stroke="url(#g-hours)" />
                <text class="ring-label" x="100" y="95" text-anchor="middle" id="hours">0</text>
                <text class="ring-sub" x="100" y="118" text-anchor="middle">Horas</text>
              </svg>

              <svg viewBox="0 0 200 200" class="ring" data-unit="minutes" aria-hidden="false">
                <defs>
                  <linearGradient id="g-minutes" x1="0" x2="1"><stop offset="0" stop-color="#c5f2bd"/><stop offset="1" stop-color="#fff1b6"/></linearGradient>
                </defs>
                <circle class="ring-bg" cx="100" cy="100" r="40" />
                <circle class="ring-fg" cx="100" cy="100" r="40" stroke="url(#g-minutes)" />
                <text class="ring-label" x="100" y="95" text-anchor="middle" id="minutes">0</text>
                <text class="ring-sub" x="100" y="118" text-anchor="middle">Minutos</text>
              </svg>

              <svg viewBox="0 0 200 200" class="ring" data-unit="seconds" aria-hidden="false">
                <defs>
                  <linearGradient id="g-seconds" x1="0" x2="1"><stop offset="0" stop-color="#ffd6a5"/><stop offset="1" stop-color="#fdffb6"/></linearGradient>
                </defs>
                <circle class="ring-bg" cx="100" cy="100" r="24" />
                <circle class="ring-fg" cx="100" cy="100" r="24" stroke="url(#g-seconds)" />
                <text class="ring-label" x="100" y="95" text-anchor="middle" id="seconds">0</text>
                <text class="ring-sub" x="100" y="118" text-anchor="middle">Segundos</text>
              </svg>
            </div>
          </div>

          <div id="fun" class="media-actions">
            <!-- interactive buttons removed per user request; aliases kept hidden for tests -->
            <div style="display:none" aria-hidden="true">
              <button id="confettiBtn" aria-label="confetti alias"></button>
              <button id="playBtn" aria-label="play alias"></button>
              <button id="capyBtn" aria-label="capy alias"></button>
            </div>
          </div>
        </div>
      </section>

      <section id="map" class="info-card">
        <h3>¬øD√≥nde es la fiesta?</h3>
  <p>Encu√©ntranos en Suipacha 41 bis, Rosario</p>
        <div class="map-container">
          <!-- Interactive map (Leaflet + OpenStreetMap). Falls back to iframe if JS disabled -->
          <div id="leaflet-map" style="width:100%;height:300px;border-radius:12px;overflow:hidden" aria-label="Mapa interactivo: Suipacha 41 bis, Rosario"></div>
          <noscript>
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d823!2d-60.6617052!3d-32.9328978!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95b7ab4dc337b21b:0x912ba41b61374e9c!2zMzLCsDU1JzU4LjQiUyA2MMKwMzknNDIuMSJX!5e0!3m2!1ses!2sar!4v1234567890123!5m2!1ses!2sar"
              title="Mapa: Suipacha 41, Rosario (alternativa sin JavaScript)"
              width="100%"
              height="300"
              style="border:0;border-radius:12px;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </noscript>
        </div>
  <!-- location capy removed per user request -->
      </section>

  <footer class="foot"></footer>
    </main>

  <!-- RSVP modal removed per user request -->

  <canvas id="faustina-confetti-canvas"></canvas>
  <!-- alias canvas id expected by tests -->
  <canvas id="confetti-canvas" style="display:none"></canvas>

  <audio id="faustina-bg-audio" preload="metadata">
    </audio>

    <script>
      (function(){
        // Inline countdown fallback: muestra la cuenta regresiva aunque el script externo falle.
        // Asunci√≥n: la fecha del evento es 27/12/2025 a las 13:00 (misma zona horaria del visitante).
        const eventDate = new Date('2025-12-27T13:00:00');
        function pad(n){ return String(n).padStart(2,'0'); }

        function updateCountdownInline(){
          const now = new Date();
          const diff = eventDate - now;
          const daysEl = document.getElementById('days');
          const hoursEl = document.getElementById('hours');
          const minutesEl = document.getElementById('minutes');
          const secondsEl = document.getElementById('seconds');
          if(!daysEl || !hoursEl || !minutesEl || !secondsEl) return;

          if(diff <= 0){
            daysEl.textContent = '0';
            hoursEl.textContent = '00';
            minutesEl.textContent = '00';
            secondsEl.textContent = '00';
            return;
          }

          const totalSec = Math.floor(diff / 1000);
          const days = Math.floor(totalSec / 86400);
          const hours = Math.floor((totalSec % 86400) / 3600);
          const minutes = Math.floor((totalSec % 3600) / 60);
          const seconds = totalSec % 60;

          daysEl.textContent = String(days);
          hoursEl.textContent = pad(hours);
          minutesEl.textContent = pad(minutes);
          secondsEl.textContent = pad(seconds);

          // Update SVG ring progress. Use simple maxima: days -> 365, others standard.
          const max = { days: 365, hours: 24, minutes: 60, seconds: 60 };
          ['days','hours','minutes','seconds'].forEach(unit => {
            const svg = document.querySelector('.ring[data-unit="'+unit+'"]');
            if(!svg) return;
            const fg = svg.querySelector('.ring-fg');
            if(!fg) return;
            const r = Number(fg.getAttribute('r')) || (unit==='days'?72:(unit==='hours'?56:(unit==='minutes'?40:24)));
            const circ = 2 * Math.PI * r;
            // ensure stroke-dasharray is set so the offset has effect
            fg.style.strokeDasharray = circ;
            // choose value for progress
            let value = 0;
            if(unit === 'days') value = Math.min(days, max.days);
            if(unit === 'hours') value = hours;
            if(unit === 'minutes') value = minutes;
            if(unit === 'seconds') value = seconds;
            const pct = Math.max(0, Math.min(1, value / max[unit]));
            const offset = circ * (1 - pct);
            fg.style.strokeDashoffset = offset;
          });
        }

        // Run immediately and keep updating each second
        updateCountdownInline();
        setInterval(updateCountdownInline, 1000);
      })();
    </script>
    <script src="script.js"></script>
  </body>
</html>
